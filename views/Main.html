<div id="page_inner">
	<form novalidate name="imageForm">
		<input type="text" ng-hide="true" name="sketchData" ng-model="formData.payload.imageData.data" id="sketchData"/>
		<input type="text" ng-hide="true" name="sketchTop" ng-model="formData.payload.imageData.posY" id="sketchTop" />
		<input type="text" ng-hide="true" name="sketchLeft" ng-model="formData.payload.imageData.posX" id="sketchLeft" />
		<input type="text" ng-hide="true" name="textTop" ng-model="formData.payload.imageText.posY" id="textTop" />
		<input type="text" ng-hide="true" name="textLeft" ng-model="formData.payload.imageText.posX" id="textLeft" />
		<input type="text" ng-hide="true" name="textHeight" ng-model="formData.payload.imageText.height" id="textHeight" />
		<input type="text" ng-hide="true" name="textWidth" ng-model="formData.payload.imageText.width" id="textWidth" />
		<style type="text/css">
			@font-face {
				font-family: ghaim;
				src: url("fonts/GHAIM.eot");
			}
			@font-face {
				font-family: ghaim;
				src: url("fonts/GHAIM.ttf");
			}
		</style>
		
		<div class="templatePreview">
			<textarea
				class="area limited {{!toggleText}} tpl{{currentTemplate.id}}"
				placeholder="enter text here"
				name="imageText"
				ng-model="formData.payload.imageText.text"
				ng-disabled="toggleText"
				id="imageTextInput">
			</textarea>
			<div
				id="editor"
				class="clearfix {{toggleDraw}}">
			</div>
			<img
				ng-src="{{settings.host}}{{currentTemplate.path}}" 
				class="templateImagePreview" />
		</div>
		
		<div id="step_1" ng-show="stepCheck(1)" class="steps">
			<input
				id="next_step1"
				type="submit" 
				value="המשך" 
				ng-click="step(2)"/>
			<div
				id="templateImageSelect"
				class="clearfix">
				<div
					ng-repeat="template in settings.templates"
					class="templ">
						<input
							type="radio" 
							name="imageTemplate"
							value="{{template.id}}"
							class="imageTemplateRadio"
							id="imageTemplate{{template.id}}"/>
						<label
							ng-click="selectTemplate($index)"
							for="imageTemplate{{template.id}}"
							class="imageTemplateLabel">{{$index+1}}
						</label>
				</div>
			</div>
			<div
				id="modeSelect"
				ng-click="toggleEditMode()">
				img {{toggleDraw}}
			</div>
		</div>

		<div id="step_2" ng-show="stepCheck(2)" class="steps">
			<div>
				<input
					type="radio"
					name="orderType"
					value="FacebookCover"
					id="order_download"
					style="visibility:hidden;"
					ng-click="order('dl')"/>
				<label
					for="order_download">
					Download
				</label>
			</div>
			<input
				type="radio"
				name="orderType"
				ng-model="formData.order.type"
				value="Sticker"
				id="order_sticker"/>
			<label
				for="order_sticker">
				Sticker
			</label>
			<input
				type="radio"
				name="orderType"
				value="Sign"
				ng-model="formData.order.type"
				id="order_sign"/>
			<label
				for="order_sign">
				Sign
			</label>
			<input
				type="radio"
				name="orderType"
				value="Shirt"
				ng-model="formData.order.type"
				id="order_shirt"/>
			<label
				for="order_shirt">
				Shirt
			</label>
			<input
				id="next_step2"
				type="submit" 
				value="המשך" 
				ng-click="order()"/>
			<input
				id="next_step2"
				type="submit" 
				value="ערוך" 
				ng-click="step(1)"/>
		</div>
	</form>
	<a href="#/gallery">gallery</a>
	<script src="js/main.js"></script>
</div>

<!-- DIALOGS -->
<div>
	<div 
		id="loginDialog" 
		ng-controller="LoginCtrl" 
		ui-jq="dialog" 
		ui-options="{title:'please login',autoOpen: false, height: 310, width: 700, modal: true, resizable: false, show: 'slow'}">
		<div style="width:174px; margin: 62px auto 0 auto;">
			<span>login with facebook</span>
			<button>facebook connect</button>
			<a ng-click="order()">skip</a>
		</div>
	</div>
</div>
<div
	ng-controller="OrderCtrl">
	<div>
		<div
			id="orderDialog"
			ui-jq="dialog"
			ui-options="{title:'please register',autoOpen: false, height: 310, width: 700, modal: true, resizable: false, show: 'slow'}">
			<div 
				id="registerWrapper" 
				style="float:left; width: 332px; height: 235px;">
				<div 
					style="text-align: center;">register</div>
				<div 
					style="width: 212px; margin: 0 auto;">
					<form 
						novalidate>
						<div 
							ng-hide="showSizes()">
							<input 
								type="radio" 
								name="shirtSize" 
								value="M" 
								ng-model="formData.order.size" />
							<input 
								type="radio" 
								name="shirtSize" 
								value="L" 
								ng-model="formData.order.size" />
							<input 
								type="radio" 
								name="shirtSize" 
								value="XL" 
								ng-model="formData.order.size" />
						</div>
						<input 
							type="text" 
							name="name"
							placeholder="first name"
							ng-model="formData.user.name"
							required />
						<input
							type="email"
							name="email"
							placeholder="email@domain.com"
							ng-model="formData.user.email"
							required />
						<input
							type="text"
							name="phone"
							placeholder="050-1234567"
							ng-model="formData.user.phone"
							ng-maxLength="10"
							required />
						<input 
							type="text" 
							name="street"
							placeholder="street"
							ng-model="formData.user.street" 
							required />
						<input 
							type="text" 
							name="city"
							placeholder="street"
							ng-model="formData.user.city" 
							required />
						<input 
							type="text" 
							name="zip"
							placeholder="1234567"
							maxlength="7"
							ng-model="formData.user.zip"
							required />
						<input 
							type="text" 
							name="homenumber"
							placeholder="number"
							ng-model="formData.user.houseNumber" 
							required />
						<input 
							type="text" 
							name="appnumber"
							placeholder="number"
							ng-model="formData.user.apartmentNumber" />
						<div style="text-align: center;">
							<button ng-click="register()">register</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div>
		<div
			id="thankyouDialog"
			ui-jq="dialog"
			ui-options="{title:'please register',autoOpen: false, height: 310, width: 700, modal: true, resizable: false, show: 'slow'}">
			<div ng-hide="checkOrderType()">Thank you</div>
			<div ng-show="checkOrderType()">Thank you + download <a href="{{downloadUrl}}">link</a></div>
		</div>
	</div>
</div>